(()=>{"use strict";var n={640:(n,t,e)=>{e.d(t,{A:()=>s});var r=e(601),o=e.n(r),i=e(314),a=e.n(i)()(o());a.push([n.id,":root {\n  --etts-bg-primary: #ffffff;\n  --etts-bg-secondary: #f8f9fa;\n  --etts-text-primary: #000000;\n  --etts-text-secondary: #666666;\n  --etts-border-color: #cccccc;\n  --etts-button-bg: #007bff;\n  --etts-button-text: #ffffff;\n  --etts-hover-bg: #0056b3;\n}\n\n[data-theme='dark'] {\n  --etts-bg-primary: #1a1a1a;\n  --etts-bg-secondary: #2d2d2d;\n  --etts-text-primary: #ffffff;\n  --etts-text-secondary: #cccccc;\n  --etts-border-color: #404040;\n  --etts-button-bg: #0d6efd;\n  --etts-button-text: #ffffff;\n  --etts-hover-bg: #0b5ed7;\n}\n\n.flex-center {\n  display: flex; /* Tailwind's flex */\n  flex-direction: row;\n  align-items: center; /* Tailwind's items-center */\n  justify-content: center; /* Tailwind's justify-center */\n  gap: 1rem;\n}\n\n.tts-icon {\n  width: 1rem; /* Tailwind's w-4 (4 * 0.25rem) */\n  height: 1rem; /* Tailwind's h-4 (4 * 0.25rem) */\n  margin-right: 0.25rem; /* Tailwind's mr-1 */\n  fill: none; /* Tailwind's fill-none */\n  stroke: currentColor; /* Tailwind's stroke-currentColor */\n}\n\n.tts-input {\n  width: 100%; /* Tailwind's w-full */\n  padding-left: 0.75rem; /* Tailwind's px-3 */\n  padding-right: 0.75rem;\n  padding-top: 0.5rem; /* Tailwind's py-2 */\n  padding-bottom: 0.5rem;\n  border: 1px solid #d1d5db; /* Tailwind's border-gray-300 */\n  border-radius: 0.375rem; /* Tailwind's rounded */\n  outline: none; /* Tailwind's focus:outline-none */\n}\n\n.tts-input.dark {\n  background-color: #1f2937; /* Tailwind's dark:bg-gray-800 */\n  border-color: #4b5563; /* Tailwind's dark:border-gray-600 */\n  color: white; /* Tailwind's dark:text-white */\n}\n\n.transition-all {\n  transition: all 0.2s ease-in-out;\n}\n\n.min-width-200 {\n  min-width: 200px;\n}\n\n.space-x-3 {\n  display: flex;\n  gap: 0.75rem;\n}\n\n.space-y-3 {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n\n.animate-spin {\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n.spinner {\n  height: 1.25rem; /* 5 * 0.25rem */\n  width: 1.25rem; /* 5 * 0.25rem */\n  border: 2px solid #2563eb; /* Blue border */\n  border-radius: 50%;\n  border-top-color: transparent; /* Border-t-transparent */\n}\n\n.lucide {\n  width: 20px;\n  height: 20px;\n  stroke: var(--etts-button-text);\n}\n\n.tts-controls {\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  background: var(--etts-bg-primary);\n  color: var(--etts-text-primary);\n  border: 1px solid var(--etts-border-color);\n  border-radius: 8px;\n  padding: 15px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  z-index: 10000;\n  min-width: 200px;\n  transition: all 0.2s;\n}\n\n.tts-button {\n  background: var(--etts-button-bg);\n  color: var(--etts-button-text);\n  border: none;\n  border-radius: 4px;\n  padding: 8px 16px;\n  cursor: pointer;\n  transition: background-color 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n}\n\n.tts-button:hover {\n  background: var(--etts-hover-bg);\n}\n\n.tts-button.red {\n  background: #dc3545;\n}\n\n.tts-button.red:hover {\n  background: #bb2d3b;\n}\n\n.loading-spinner {\n  border: 2px solid var(--etts-bg-secondary);\n  border-top: 2px solid var(--etts-button-bg);\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n",""]);const s=a},314:n=>{n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e="",r=void 0!==t[5];return t[4]&&(e+="@supports (".concat(t[4],") {")),t[2]&&(e+="@media ".concat(t[2]," {")),r&&(e+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),e+=n(t),r&&(e+="}"),t[2]&&(e+="}"),t[4]&&(e+="}"),e})).join("")},t.i=function(n,e,r,o,i){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var d=0;d<n.length;d++){var l=[].concat(n[d]);r&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),e&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=e):l[2]=e),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},601:n=>{n.exports=function(n){return n[1]}},72:n=>{var t=[];function e(n){for(var e=-1,r=0;r<t.length;r++)if(t[r].identifier===n){e=r;break}return e}function r(n,r){for(var i={},a=[],s=0;s<n.length;s++){var c=n[s],d=r.base?c[0]+r.base:c[0],l=i[d]||0,u="".concat(d," ").concat(l);i[d]=l+1;var p=e(u),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var g=o(f,r);r.byIndex=s,t.splice(s,0,{identifier:u,updater:g,references:1})}a.push(u)}return a}function o(n,t){var e=t.domAPI(t);return e.update(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap&&t.supports===n.supports&&t.layer===n.layer)return;e.update(n=t)}else e.remove()}}n.exports=function(n,o){var i=r(n=n||[],o=o||{});return function(n){n=n||[];for(var a=0;a<i.length;a++){var s=e(i[a]);t[s].references--}for(var c=r(n,o),d=0;d<i.length;d++){var l=e(i[d]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}i=c}}},659:n=>{var t={};n.exports=function(n,e){var r=function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}t[n]=e}return t[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}},159:n=>{n.exports=function(n){var t=document.createElement("style");return n.setAttributes(t,n.attributes),n.insert(t,n.options),t}},56:(n,t,e)=>{n.exports=function(n){var t=e.nc;t&&n.setAttribute("nonce",t)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=n.insertStyleElement(n);return{update:function(e){!function(n,t,e){var r="";e.supports&&(r+="@supports (".concat(e.supports,") {")),e.media&&(r+="@media ".concat(e.media," {"));var o=void 0!==e.layer;o&&(r+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),r+=e.css,o&&(r+="}"),e.media&&(r+="}"),e.supports&&(r+="}");var i=e.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,n,t.options)}(t,n,e)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)}}}},113:n=>{n.exports=function(n,t){if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}}},t={};function e(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return n[r](i,i.exports,e),i.exports}e.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},e.d=(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},e.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),e.nc=void 0;var r=e(72),o=e.n(r),i=e(825),a=e.n(i),s=e(659),c=e.n(s),d=e(56),l=e.n(d),u=e(159),p=e.n(u),f=e(113),g=e.n(f),m=e(640),v={};v.styleTagTransform=g(),v.setAttributes=l(),v.insert=c().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=p(),o()(m.A,v),m.A&&m.A.locals&&m.A.locals;const h='\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-pause"><circle cx="12" cy="12" r="10"/><line x1="10" x2="10" y1="15" y2="9"/><line x1="14" x2="14" y1="15" y2="9"/></svg>\n';var b=function(n,t,e,r){return new(e||(e=Promise))((function(o,i){function a(n){try{c(r.next(n))}catch(n){i(n)}}function s(n){try{c(r.throw(n))}catch(n){i(n)}}function c(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(a,s)}c((r=r.apply(n,t||[])).next())}))};function y(){return b(this,arguments,void 0,(function*(n=!0){const t=yield chrome.storage.sync.get({darkMode:!1});let e=document.getElementById("tts-control-panel");if(e)return t.darkMode&&(e.dataset.theme="dark"),e;const r=document.createElement("div");return r.className="tts-controls",r.id="tts-control-panel",r.dataset.isLoading=`${n}`,t.darkMode&&(r.dataset.theme="dark"),document.body.appendChild(r),x(n),r}))}function x(){return b(this,arguments,void 0,(function*(n=!0){let t=document.getElementById("tts-control-panel");if(t||(t=yield y(!0)),t.dataset.isLoading=`${n}`,t.innerHTML=`\n\t\t${"true"===t.dataset.isLoading?'\n\t\t\t<div class="flex-center loading-container">\n\t\t\t\t<span>Generating audio...</span>\n\t\t\t\t<div class="loading-spinner"></div>\n\t\t\t</div>\n\t\t':`\n\t\t\t<div class="flex-center">\n\t\t\t\t<button id="tts-pause" class="tts-button">\n\t\t\t\t\t${h}\n\t\t\t\t\t<span>Pause</span>\n\t\t\t\t</button>\n\t\t\t\t<button id="tts-stop" class="tts-button red">\n\t\t\t\t\t\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-stop"><circle cx="12" cy="12" r="10"/><rect x="9" y="9" width="6" height="6" rx="1"/></svg>\n\n\t\t\t\t\t<span>Stop</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t`}\n\t`,!n){const n=t.querySelector("#tts-pause"),e=t.querySelector("#tts-stop");n&&n.addEventListener("click",(()=>{var n;null===(n=window.onClickTogglePause)||void 0===n||n.call(window)})),e&&e.addEventListener("click",(()=>{var n;null===(n=window.onClickStopPlayback)||void 0===n||n.call(window)}))}}))}let w=!1;function k(n){const t=document.querySelector("#tts-pause");if(t){const e=n?"Resume":"Pause";t.innerHTML=`\n      ${n?'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-play"><circle cx="12" cy="12" r="10"/><polygon points="10 8 16 12 10 16 10 8"/></svg>\n':h}\n      <span>${e}</span>\n    `}}window.onClickTogglePause=function(){w=!w,k(w),chrome.runtime.sendMessage({type:"togglePause",target:"offscreen",isPaused:w})},window.onClickStopPlayback=function(){chrome.runtime.sendMessage({type:"stopPlayback",target:"offscreen"})},chrome.runtime.onMessage.addListener((n=>{return t=void 0,e=void 0,o=function*(){"controlPanel:updateLoading"===n.action&&x(n.isLoading),"controlPanel:remove"===n.action&&function(){const n=document.getElementById("tts-control-panel");n&&n.parentNode&&n.parentNode.removeChild(n)}(),"controlPanel:create"===n.action&&(yield y(!0)),"controlPanel:updatePlaybackState"===n.action&&(w=!n.isPlaying,k(w))},new((r=void 0)||(r=Promise))((function(n,i){function a(n){try{c(o.next(n))}catch(n){i(n)}}function s(n){try{c(o.throw(n))}catch(n){i(n)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(n){n(e)}))).then(a,s)}c((o=o.apply(t,e||[])).next())}));var t,e,r,o}))})();